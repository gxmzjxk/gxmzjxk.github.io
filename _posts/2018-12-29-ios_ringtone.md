---
    layout: post
    title: 一个iTunes12.8制作铃声的神奇BUG
    category: ios
    tags: ['mac', 'itunes', 'ios', '铃声']
---
## 缘起
使用iOS的同学们，还记得听到熟悉的苹果自带铃声响起，拿起手机发现是别人的电话的尴尬么，可能是苹果本身的产品理念，希望大家以自己是一个iPhone用户而自豪，所以把 iOS 自定义铃声的门槛设置得比较高。作为一个追求自由的程序员，当然是要DIY的，但是在使用DFU模式刷机之后，原来手机的铃声就没了。而在重新制作铃声的时候遇到了一些奇特的问题，所以觉得有必要记录一下

### 环境
- Mac: 10.13.6 (17G4015)
- iTunes: 12.8.0.150
- iPhone: 12.1.1

## 写在前面
1. 如果你的iPhone连不上电脑，即使版本号可能是比较新的，也可能卸了重装，重装的版本在启动的时候会再次提示有升级包需要安装，点击安装
2. iTunes 12.8 左上角的"铃声"已经去掉了，所以原来的教程就变得有一些偏差了

## 按部就班
1. 将设备连接到电脑，打开iTunes，需要在iPhone端信任电脑，需要手机上输入密码授权
2. 将iTunes左上角的下拉菜单选中`音乐`
3. 找到你需要制作成铃声的源文件，使用`Command+C`复制，然后点击左上角的`歌曲`，按住 `Command+V`拷贝到iTunes的歌曲库中
4. 右键歌曲文件，点击`歌曲信息`，在弹出窗口中，点击`选项`，点击`开始`，输入音频裁切起始点，点击停止，输入音频裁切结束点。点击`好`确认
5. 点击最上方的菜单栏中的`文件`-`转换`-`创建 AAC 版本`，然后就会发现在原来的音频文件下面多了一个40s以内音频文件
6. 右击新生成的音频文件，在访达(Finder)中显示，可以看到一个以.m4a 结尾的音频文件。
7. 将音频文件后缀改成.m4r并确认。选中文件，执行`Command+C`,回到iTunes，点开`XXX’s iPhone`（如果已经展开的话就不要点了），点击`铃声`,执行`Command+V`，可以看到右边的铃声下面已经有了刚才我们制作好的铃声了。
8. 打开手机，选中`设置`-`声音与触感`，点击`电话铃声`，正常情况下，在最顶端已经出现了我们DIY的铃声了，大功告成

## 可能遇到的问题
###### 手机连不上iTunes
Windows可能需要卸载重装，Mac直接去官网下载然后重新安装即可，重装之后再次提醒安装更新，老老实实安装
###### 铃声无法拷贝到iTunes中
1. 铃声超过40S
2. 铃声文件格式不是.m4r
###### .m4r铃声已经拷贝到铃声中，但是手机上还是没有
> 笔者就遇到了这个问题，因为原来制作铃声需要`同步`这一步骤，导致了同名.m4r 文件已经拷贝到手机上了，而且被识别成了music，而不是 ringtone.

> 再次拖动.m4r 到iTunes，虽然拖进去了，但是手机上还是没有

解决方法：
1. 在手机上进入Apple Music，将音频文件从`资料库`中删除
2. 或者使用iTunes的同步将手机上的音频文件`抹除`


## 资源
[将自定铃声从 iTunes 移动至 iOS 设备](https://support.apple.com/zh-cn/HT207955)

[iTunes下载](https://www.apple.com/itunes/download/)
